---
name: commit-clean
description: This skill should be used when users want to commit changes grouped by feature without Claude Co-Author attribution. Analyzes git diff, groups files by functionality, creates meaningful commit messages based on actual changes, and pushes to remote. Triggered by "ì»¤ë°‹í•´ì¤˜", "ê¸°ëŠ¥ë³„ë¡œ ì»¤ë°‹", "commit changes", or "push without co-author".
---

# Commit Clean

ë³€ê²½ëœ íŒŒì¼ë“¤ì„ ê¸°ëŠ¥ë³„ë¡œ ë¶„ë¥˜í•´ì„œ ê°ê° ì»¤ë°‹í•˜ê³ , Claude Co-Author ì—†ì´ í‘¸ì‹œí•©ë‹ˆë‹¤.

## Arguments

- `(none)`: ê¸°ëŠ¥ë³„ ì»¤ë°‹ + í‘¸ì‹œ (ê¸°ë³¸)
- `--no-push`: ì»¤ë°‹ë§Œ í•˜ê³  í‘¸ì‹œ ì•ˆ í•¨
- `--dry-run`: ì‹¤ì œ ì»¤ë°‹ ì—†ì´ ê³„íšë§Œ ë³´ì—¬ì¤Œ

## Instructions

### Step 1: ë³€ê²½ íŒŒì¼ ëª©ë¡ ìˆ˜ì§‘

```bash
git status --porcelain
git diff --name-only
git diff --cached --name-only
```

ë³€ê²½ëœ íŒŒì¼ì´ ì—†ìœ¼ë©´ "ì»¤ë°‹í•  ë³€ê²½ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤" ì¶œë ¥ í›„ ì¢…ë£Œ.

staged íŒŒì¼ì´ ìˆìœ¼ë©´ ë¨¼ì € unstage:
```bash
git reset HEAD
```

### Step 2: ê° íŒŒì¼ì˜ ë³€ê²½ ë‚´ìš© ë¶„ì„

**ëª¨ë“  ë³€ê²½ íŒŒì¼ì— ëŒ€í•´ diff í™•ì¸:**

```bash
git diff <íŒŒì¼ê²½ë¡œ>
# ë˜ëŠ” ìƒˆ íŒŒì¼ì´ë©´
git diff --no-index /dev/null <íŒŒì¼ê²½ë¡œ>
```

**ë¶„ì„í•  ê²ƒ:**
- ìƒˆ íŒŒì¼ì¸ê°€? ìˆ˜ì •ì¸ê°€? ì‚­ì œì¸ê°€?
- ì–´ë–¤ í•¨ìˆ˜/êµ¬ì¡°ì²´/í´ë˜ìŠ¤ê°€ ì¶”ê°€/ìˆ˜ì •ëëŠ”ê°€?
- í…ŒìŠ¤íŠ¸ ì½”ë“œì¸ê°€? êµ¬í˜„ ì½”ë“œì¸ê°€?
- import/ì˜ì¡´ì„±ë§Œ ë°”ë€Œì—ˆëŠ”ê°€?
- ë¦°íŠ¸/í¬ë§·íŒ…ë§Œ ìˆ˜ì •ëëŠ”ê°€?

### Step 3: ë…¼ë¦¬ì  ê·¸ë£¹ìœ¼ë¡œ ë¶„ë¥˜

**ê°™ì€ ì»¤ë°‹ì— ë¬¶ì„ íŒŒì¼ ê¸°ì¤€:**

1. **ê°™ì€ ê¸°ëŠ¥**: `evm/mod.rs` + `evm/tests.rs` â†’ í•˜ë‚˜ì˜ feat ì»¤ë°‹
2. **ê°™ì€ ìˆ˜ì • ìœ í˜•**: `bip39.rs` ë¦°íŠ¸ + `bip32.rs` ë¦°íŠ¸ â†’ í•˜ë‚˜ì˜ fix ì»¤ë°‹
3. **ê´€ë ¨ ë¬¸ì„œ**: ê¸°ëŠ¥ ì¶”ê°€ ì‹œ í•´ë‹¹ ë¬¸ì„œë„ ê°™ì´ ë¬¶ì„ ìˆ˜ ìˆìŒ

**ë¶„ë¦¬í•´ì•¼ í•  ê¸°ì¤€:**

1. ì„œë¡œ ë‹¤ë¥¸ ê¸°ëŠ¥ (evm vs bitcoin)
2. ê¸°ëŠ¥ ì¶”ê°€ vs ë²„ê·¸ ìˆ˜ì •
3. ì½”ë“œ vs ë¬¸ì„œ (ì„ íƒì )

### Step 4: prefix ê²°ì •

| ë³€ê²½ ìœ í˜• | prefix | íŒë‹¨ ê¸°ì¤€ |
|----------|--------|-----------|
| ìƒˆ ê¸°ëŠ¥ êµ¬í˜„ | `feat` | ìƒˆ íŒŒì¼ + êµ¬í˜„ ì½”ë“œ, ìƒˆ í•¨ìˆ˜/êµ¬ì¡°ì²´ ì¶”ê°€ |
| ë²„ê·¸ ìˆ˜ì • | `fix` | ê¸°ì¡´ ë¡œì§ ìˆ˜ì •, ì—ëŸ¬ í•¸ë“¤ë§ ì¶”ê°€ |
| ë¦°íŠ¸/ê²½ê³  ìˆ˜ì • | `fix` | clippy, eslint ê²½ê³  í•´ê²° |
| ë¦¬íŒ©í† ë§ | `refactor` | ë™ì‘ ë³€ê²½ ì—†ì´ ì½”ë“œ êµ¬ì¡° ê°œì„  |
| ë¬¸ì„œ | `docs` | *.md íŒŒì¼, ì£¼ì„ ì¶”ê°€/ìˆ˜ì • |
| í…ŒìŠ¤íŠ¸ | `test` | í…ŒìŠ¤íŠ¸ ì½”ë“œë§Œ ì¶”ê°€/ìˆ˜ì • |
| ì„¤ì •/ë¹Œë“œ | `chore` | Cargo.toml, package.json, CI ì„¤ì • |
| ìŠ¤íƒ€ì¼ | `style` | í¬ë§·íŒ…ë§Œ ë³€ê²½ (ê³µë°±, ì„¸ë¯¸ì½œë¡  ë“±) |

### Step 5: scope ê²°ì •

**ë””ë ‰í† ë¦¬/ëª¨ë“ˆ ê¸°ë°˜:**

| ê²½ë¡œ íŒ¨í„´ | scope |
|----------|-------|
| `src/evm/**` | `evm` |
| `src/bitcoin/**` | `bitcoin` |
| `src/solana/**` | `solana` |
| `src/bip39.rs` | `bip39` |
| `src/bip32.rs` | `bip32` |
| `web/**` | `web` |
| `.claude/**` | `tooling` |
| ì—¬ëŸ¬ ëª¨ë“ˆ ê±¸ì³ ìˆìœ¼ë©´ | scope ìƒëµ |

### Step 6: ì»¤ë°‹ ë©”ì‹œì§€ ì‘ì„±

**ë©”ì‹œì§€ êµ¬ì¡°:**

```
<prefix>(<scope>): <ìš”ì•½ (ë¬´ì—‡ì„ ì™œ)>

<ìƒì„¸ ë³€ê²½ ë‚´ìš©>
- êµ¬ì²´ì  ë³€ê²½ì‚¬í•­ 1
- êµ¬ì²´ì  ë³€ê²½ì‚¬í•­ 2
```

**ì¢‹ì€ ë©”ì‹œì§€ ì˜ˆì‹œ:**

```
feat(evm): EVM ê³„ì • ìƒì„± êµ¬í˜„

- secp256k1 ê³µê°œí‚¤ì—ì„œ ì£¼ì†Œ ë„ì¶œ
- Keccak-256 í•´ì‹œ ì ìš©
- EIP-55 ì²´í¬ì„¬ ì£¼ì†Œ ì§€ì›
- ë‹ˆëª¨ë‹‰/ì‹œë“œì—ì„œ ì§ì ‘ ê³„ì • ìƒì„± ê°€ëŠ¥
```

```
fix(bip39): ë¯¸ì‚¬ìš© import ì œê±°

- hmac::Hmac import ì œê±° (pbkdf2_hmacì´ ë‚´ë¶€ ì²˜ë¦¬)
```

```
docs: CLAUDE.md í”„ë¡œì íŠ¸ ë¬¸ì„œ ì—…ë°ì´íŠ¸

- êµ¬í˜„ ì§„í–‰ ìƒí™© í‘œ ì¶”ê°€
- í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ ìš”ì•½ ì„¹ì…˜ ì¶”ê°€
- Rust ë¬¸ë²• ì°¸ê³  ì„¹ì…˜ ì¶”ê°€
```

**ë‚˜ìœ ë©”ì‹œì§€ (í”¼í•´ì•¼ í•¨):**

```
# âŒ ë„ˆë¬´ ëª¨í˜¸í•¨
feat: íŒŒì¼ ìˆ˜ì •
fix: ë²„ê·¸ ìˆ˜ì •
docs: ë¬¸ì„œ ì—…ë°ì´íŠ¸

# âŒ íŒŒì¼ëª…ë§Œ ë‚˜ì—´
feat: mod.rs, bip39.rs ìˆ˜ì •
```

### Step 7: ì»¤ë°‹ ì‹¤í–‰

```bash
git add <íŒŒì¼ë“¤>
git commit -m "$(cat <<'EOF'
<prefix>(<scope>): <ìš”ì•½>

<ìƒì„¸ ë‚´ìš©>
EOF
)"
```

**ì¤‘ìš”:**
- Co-Author ë¼ì¸ **ì ˆëŒ€ ì¶”ê°€ ê¸ˆì§€**
- HEREDOCìœ¼ë¡œ ë©€í‹°ë¼ì¸ ë©”ì‹œì§€ ì‘ì„±

### Step 8: í‘¸ì‹œ (--no-push ì˜µì…˜ ì—†ì„ ë•Œ)

```bash
git push origin <í˜„ì¬ë¸Œëœì¹˜>
```

### Step 9: ê²°ê³¼ ìš”ì•½

```
âœ… ì»¤ë°‹ ì™„ë£Œ

1. feat(evm): EVM ê³„ì • ìƒì„± êµ¬í˜„
   â””â”€ crypto-lib/src/evm/mod.rs (+227)

2. fix: clippy ê²½ê³  ìˆ˜ì •
   â”œâ”€ crypto-lib/src/bip39.rs (-1)
   â””â”€ crypto-lib/src/bip32.rs (-1)

3. docs: í”„ë¡œì íŠ¸ ë¬¸ì„œ ì—…ë°ì´íŠ¸
   â”œâ”€ CLAUDE.md (+150)
   â””â”€ notes/bip-39_learn.md (+30)

ğŸš€ origin/mainì— í‘¸ì‹œ ì™„ë£Œ (3 commits)
```

## --dry-run ì¶œë ¥ ì˜ˆì‹œ

```
ğŸ“‹ ì»¤ë°‹ ê³„íš (dry-run)

ê·¸ë£¹ 1: feat(evm)
  íŒŒì¼: crypto-lib/src/evm/mod.rs
  ë³€ê²½: +227 lines (ìƒˆ íŒŒì¼)
  ë‚´ìš©: EvmAccount êµ¬ì¡°ì²´, from_mnemonic(), address_checksummed() ë“±
  ë©”ì‹œì§€: "feat(evm): EVM ê³„ì • ìƒì„± êµ¬í˜„"

ê·¸ë£¹ 2: fix
  íŒŒì¼: crypto-lib/src/bip39.rs, crypto-lib/src/bip32.rs
  ë³€ê²½: -2 lines (ìˆ˜ì •)
  ë‚´ìš©: ë¯¸ì‚¬ìš© import ì œê±°, ë¶ˆí•„ìš”í•œ borrow ì œê±°
  ë©”ì‹œì§€: "fix: clippy ê²½ê³  ìˆ˜ì •"

ì‹¤í–‰í•˜ë ¤ë©´ /commit-clean ì…ë ¥
```
